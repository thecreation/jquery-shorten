/**
* jQuery shorten v0.3.1
* https://github.com/amazingSurge/jquery-shorten
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var n={exports:{}};t(e.jQuery),e.jqueryShortenEs=n.exports}}(this,function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a={namespace:"shorten",chars:100,ellipses:"...",more:"more",less:"less"},r="shorten",l=function(){function e(t,i){n(this,e),this.element=t,this.$element=(0,s.default)(t),this.text=this.$element.text(),this.expanded=!1;var o=[];s.default.each(this.$element.data(),function(e,t){var n=new RegExp("^shorten","i");n.test(e)&&(o[e.toLowerCase().replace(n,"")]=t)}),this.options=s.default.extend(!0,{},a,i,o),this.namespace=this.options.namespace,this.needShorten()&&this._init()}return o(e,[{key:"_init",value:function(){var e=this;this._prepare(),this.$element.on("shorten::expand",function(){e.expanded=!0,e.$element.addClass(e.namespace+"_expand")}),this.$element.on("shorten::collapse",function(){e.expanded=!1,e.$element.removeClass(e.namespace+"_expand")}),this._bindEvents(),this._trigger("ready")}},{key:"_trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var i=[this].concat(n);this.$element.trigger(r+"::"+e,i),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)});var o="on"+e;"function"==typeof this.options[o]&&this.options[o].apply(this,n)}},{key:"_prepare",value:function(){this.summaryText=this.text.slice(0,this.options.chars),this.detailText=this.text.slice(this.summaryText.length),this.$element.html(this.summaryText+this._ellipsesHtml()+'<span class="'+this.namespace+'-detail">'+this.detailText+"</span>"+this._toggleHtml())}},{key:"_ellipsesHtml",value:function(){return this.options.ellipses?'<span class="'+this.namespace+'-ellipses">'+this.options.ellipses+"</span>":""}},{key:"_toggleHtml",value:function(){var e;return e=this.expanded?this.options.less:this.options.more,'<a class="'+this.namespace+'-toggle" href="#">'+e+"</a>"}},{key:"_bindEvents",value:function(){this.$toggle=this.$element.find("."+this.namespace+"-toggle");var e=this;this.$element.on("click.shorten","."+this.namespace+"-toggle",function(){return e.expanded?(e._trigger("collapse"),(0,s.default)(this).html(e.options.more)):(e._trigger("expand"),(0,s.default)(this).html(e.options.less)),!1})}},{key:"needShorten",value:function(){return this.text.length>this.options.chars}},{key:"text",value:function(){return this.text}},{key:"expand",value:function(){this._trigger("expand")}},{key:"collapse",value:function(){this._trigger("collapse")}},{key:"destroy",value:function(){this.$element.html(this.text),this.$element.data("shorten",null),this.$element.off(".shorten"),this.$element.off("shorten::expand"),this.$element.off("shorten::collapse")}},{key:"update",value:function(e){this.text=e,this.needShorten()?this.prepare():this.$element.html(e),this._trigger("expand",e)}}],[{key:"setDefaults",value:function(e){s.default.extend(a,s.default.isPlainObject(e)&&e)}}]),e}(),u={version:"0.3.1"},h="shorten",f=s.default.fn.shorten,p=function(e){for(var t=this,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if("string"==typeof e){var r=function(){var n=e;if(/^_/.test(n))return{v:!1};if(!/^(get)/.test(n))return{v:t.each(function(){var e=s.default.data(this,h);e&&"function"==typeof e[n]&&e[n].apply(e,o)})};var i=t.first().data(h);return i&&"function"==typeof i[n]?{v:i[n].apply(i,o)}:void 0}();if("object"===("undefined"==typeof r?"undefined":i(r)))return r.v}return this.each(function(){(0,s.default)(this).data(h)||(0,s.default)(this).data(h,new l(this,e))})};s.default.fn.shorten=p,s.default.shorten=s.default.extend({setDefaults:l.setDefaults,noConflict:function(){return s.default.fn.shorten=f,p}},u)});